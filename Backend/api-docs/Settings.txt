ğŸŒ INVOIZIFY SETTINGS API DOCUMENTATION ğŸ“„  
==================================================  

ğŸ“Œ SETTINGS CATEGORIES  
==================================================  
| Category            | Description                                  |  
|---------------------|----------------------------------------------|  
| Theme               | Customize application theme (light/dark mode, colors) |  
| Payment Methods     | Manage saved payment methods (Stripe, Razorpay, etc.) |  
| Notifications       | Configure notification preferences (email, SMS, push) |  

==================================================  
ğŸ” AUTHENTICATION  
==================================================  
All endpoints require Bearer token in Authorization header:  
`Authorization: Bearer <JWT_TOKEN>`  

==================================================  
ğŸ“¤ API ENDPOINTS  
==================================================  

1ï¸âƒ£ GET THEME SETTINGS  
-------------------------  
ğŸ”¹ Method: GET  
ğŸ”¹ URL: `/api/settings/theme`  
ğŸ”¹ Description: Retrieve current theme settings for the authenticated user  
ğŸ”¹ Response:  
   âœ… 200 OK  
   ```json
   {
     "mode": "dark",
     "primaryColor": "#1E3A8A",
     "accentColor": "#3B82F6"
   }
   ```

2ï¸âƒ£ UPDATE THEME SETTINGS  
-------------------------  
ğŸ”¹ Method: POST  
ğŸ”¹ URL: `/api/settings/theme`  
ğŸ”¹ Request Body:  
   ```json
   {
     "mode": "light",
     "primaryColor": "#4F46E5",
     "accentColor": "#6366F1"
   }
   ```  
ğŸ”¹ Response:  
   âœ… 200 OK  
   ```json
   {
     "mode": "light",
     "primaryColor": "#4F46E5",
     "accentColor": "#6366F1"
   }
   ```

3ï¸âƒ£ GET PAYMENT METHODS  
-------------------------  
ğŸ”¹ Method: GET  
ğŸ”¹ URL: `/api/settings/payment-methods`  
ğŸ”¹ Description: Retrieve saved payment methods for the authenticated user  
ğŸ”¹ Response:  
   âœ… 200 OK  
   ```json
   [
     {
       "id": "665f4d8b7c1a4c001e8f4d2a",
       "provider": "stripe",
       "last4": "4242",
       "isDefault": true
     }
   ]
   ```

4ï¸âƒ£ ADD PAYMENT METHOD  
-------------------------  
ğŸ”¹ Method: POST  
ğŸ”¹ URL: `/api/settings/payment-methods`  
ğŸ”¹ Request Body:  
   ```json
   {
     "provider": "razorpay",
     "methodId": "pm_1P9QZ2JzJzJzJzJzJzJzJzJz",
     "cardLast4": "1234",
     "fingerprint": "abc123"
   }
   ```  
ğŸ”¹ Response:  
   âœ… 201 Created  
   ```json
   {
     "id": "665f4d8b7c1a4c001e8f4d2b",
     "provider": "razorpay",
     "last4": "1234",
     "isDefault": false
   }
   ```

5ï¸âƒ£ DELETE PAYMENT METHOD  
-------------------------  
ğŸ”¹ Method: DELETE  
ğŸ”¹ URL: `/api/settings/payment-methods/:id`  
ğŸ”¹ Parameters:  
   - `id` (path): Payment method ID to delete  
ğŸ”¹ Response:  
   âœ… 200 OK  
   ```json
   {
     "message": "Payment method deleted successfully"
   }
   ```

6ï¸âƒ£ GET NOTIFICATION SETTINGS  
-------------------------  
ğŸ”¹ Method: GET  
ğŸ”¹ URL: `/api/settings/notifications`  
ğŸ”¹ Description: Retrieve notification preferences for the authenticated user  
ğŸ”¹ Response:  
   âœ… 200 OK  
   ```json
   {
     "email": {
       "invoices": true,
       "payments": true,
       "promotions": false
     },
     "push": {
       "invoices": true,
       "payments": false
     },
     "sms": {
       "paymentReminders": true
     }
   }
   ```

7ï¸âƒ£ UPDATE NOTIFICATION SETTINGS  
-------------------------  
ğŸ”¹ Method: POST  
ğŸ”¹ URL: `/api/settings/notifications`  
ğŸ”¹ Request Body:  
   ```json
   {
     "email": {
       "invoices": false,
       "payments": true,
       "promotions": false
     },
     "push": {
       "invoices": true,
       "payments": true
     },
     "sms": {
       "paymentReminders": false
     }
   }
   ```  
ğŸ”¹ Response:  
   âœ… 200 OK  
   ```json
   {
     "email": {
       "invoices": false,
       "payments": true,
       "promotions": false
     },
     "push": {
       "invoices": true,
       "payments": true
     },
     "sms": {
       "paymentReminders": false
     }
   }
   ```

==================================================  
ğŸš¨ ERROR RESPONSES  
==================================================  
âŒ 401 Unauthorized  
```json
{
  "message": "Unauthorized - Invalid/Missing token"
}
```

âŒ 403 Forbidden  
```json
{
  "message": "Access denied - Insufficient permissions"
}
```

âŒ 404 Not Found  
```json
{
  "message": "Settings not found"
}
```

âŒ 500 Internal Server Error  
```json
{
  "message": "Server error",
  "error": "Error details..."
}
```

==================================================  
ğŸ”— SAMPLE CURL REQUESTS  
==================================================  

# Get Theme Settings  
```bash
curl -X GET 'https://api.invoizify.com/api/settings/theme' \
-H 'Authorization: Bearer YOUR_JWT_TOKEN' \
-H 'Content-Type: application/json'
```

# Update Theme Settings  
```bash
curl -X POST 'https://api.invoizify.com/api/settings/theme' \
-H 'Authorization: Bearer YOUR_JWT_TOKEN' \
-H 'Content-Type: application/json' \
-d '{
  "mode": "dark",
  "primaryColor": "#1E3A8A",
  "accentColor": "#3B82F6"
}'
```

# Get Payment Methods  
```bash
curl -X GET 'https://api.invoizify.com/api/settings/payment-methods' \
-H 'Authorization: Bearer YOUR_JWT_TOKEN' \
-H 'Content-Type: application/json'
```

# Add Payment Method  
```bash
curl -X POST 'https://api.invoizify.com/api/settings/payment-methods' \
-H 'Authorization: Bearer YOUR_JWT_TOKEN' \
-H 'Content-Type: application/json' \
-d '{
  "provider": "stripe",
  "methodId": "pm_1P9QZ2JzJzJzJzJzJzJzJzJz",
  "cardLast4": "4242",
  "fingerprint": "abc123"
}'
```

# Delete Payment Method  
```bash
curl -X DELETE 'https://api.invoizify.com/api/settings/payment-methods/665f4d8b7c1a4c001e8f4d2a' \
-H 'Authorization: Bearer YOUR_JWT_TOKEN' \
-H 'Content-Type: application/json'
```

# Get Notification Settings  
```bash
curl -X GET 'https://api.invoizify.com/api/settings/notifications' \
-H 'Authorization: Bearer YOUR_JWT_TOKEN' \
-H 'Content-Type: application/json'
```

# Update Notification Settings  
```bash
curl -X POST 'https://api.invoizify.com/api/settings/notifications' \
-H 'Authorization: Bearer YOUR_JWT_TOKEN' \
-H 'Content-Type: application/json' \
-d '{
  "email": {
    "invoices": false,
    "payments": true,
    "promotions": false
  },
  "push": {
    "invoices": true,
    "payments": true
  },
  "sms": {
    "paymentReminders": false
  }
}'
```
